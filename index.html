<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>çœŸå¿ƒè¯å¤§å†’é™©</title>
    <style>
        /* ============ å…¨å±€é…ç½® ============ */
        :root {
            --primary: #ff4081;
            --bg: #fce4ec;
        }

        body {
            font-family: 'PingFang SC', sans-serif;
            background-color: var(--bg);
            margin: 0;
            height: 100vh;
            overflow: hidden; /* ç¦æ­¢æ»šåŠ¨ */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* å¡ç‰‡å®¹å™¨ */
        .card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 85%;
            max-width: 360px;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        h1 {
            color: #d81b60;
            font-size: 20px;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .hidden { display: none !important; }

        /* ============ ç¬¬ä¸€å…³æŒ‰é’®æ ·å¼ (å›¾æ–‡ç»„åˆ) ============ */
        .btn-box {
            height: 180px; /* å¢åŠ é«˜åº¦ä»¥å®¹çº³å›¾ç‰‡ */
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            position: relative;
        }

        /* é€šç”¨æŒ‰é’®æ ·å¼ */
        .img-btn {
            border: none;
            outline: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column; /* å›¾ç‰‡åœ¨ä¸Šï¼Œæ–‡å­—åœ¨ä¸‹ */
            align-items: center;
            justify-content: center;
            padding: 10px;
            width: 120px; /* å›ºå®šå®½åº¦ */
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        /* å›¾ç‰‡æ ·å¼ */
        .img-btn img {
            width: 70px;
            height: 70px;
            border-radius: 50%; /* åœ†å½¢å¤´åƒ */
            object-fit: cover;
            margin-bottom: 8px;
            pointer-events: none; /* é˜²æ­¢å›¾ç‰‡è¢«æ‹–æ‹½ */
        }

        /* æç¬‘å¥³æŒ‰é’® */
        #btn-funny {
            background-color: var(--primary);
            color: white;
            z-index: 5;
            font-weight: bold;
        }

        /* å¥³ç¥æŒ‰é’® */
        #btn-goddess {
            background-color: #f5f5f5;
            color: #333;
            z-index: 100;
            font-weight: normal;
        }

        /* ============ ç¬¬äºŒå…³ è½¬ç›˜ ============ */
        .wheel-box {
            position: relative;
            width: 260px;
            height: 260px;
            margin: 0 auto 20px;
        }

        .pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 36px;
            background: #d81b60;
            clip-path: polygon(50% 100%, 0% 0%, 100% 0%);
            z-index: 50;
        }

        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 6px solid white;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            transition: transform 4s cubic-bezier(0.1, 0.7, 0.1, 1);
        }

        .wheel-bg {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .wheel-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .item {
            position: absolute;
            top: 0;
            left: 50%;
            width: 20px;
            height: 50%;
            transform-origin: bottom center;
            font-size: 12px;
            color: #fff;
            padding-top: 10px;
            writing-mode: vertical-rl;
            display: flex;
            align-items: center;
        }

        #btn-spin {
            background-color: #00bcd4;
            color: white;
            padding: 12px 40px;
            font-size: 18px;
            border-radius: 50px;
            border: none;
            box-shadow: 0 4px 10px rgba(0, 188, 212, 0.3);
            cursor: pointer;
        }
        
        #btn-spin:disabled {
            background-color: #ccc;
            box-shadow: none;
            cursor: not-allowed;
        }

        /* ============ ç»“æœå¼¹çª— ============ */
        #modal-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.6);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal-body {
            background: white;
            padding: 25px;
            width: 70%;
            max-width: 280px;
            border-radius: 15px;
            text-align: center;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .result-big {
            font-size: 24px;
            font-weight: bold;
            color: #d81b60;
            margin: 15px 0;
            border: 2px dashed #ff80ab;
            padding: 10px;
            border-radius: 8px;
        }

        .close-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 25px;
            border-radius: 50px;
            margin-top: 10px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <!-- ç¬¬ä¸€å…³ -->
    <div id="phase-1" class="card">
        <h1 id="title">ä½ ç©¶ç«Ÿæ˜¯<br>å°å­¦ç”Ÿæç¬‘å¥³<br>è¿˜æ˜¯é«˜å†·å¥³ç¥ï¼Ÿ</h1>
        
        <div class="btn-box">
            <!-- æç¬‘å¥³æŒ‰é’® (å›¾æ–‡ç‰ˆ) -->
            <button id="btn-funny" class="img-btn" onclick="passLevel()">
                <!-- â†“â†“â†“ è¯·æŠŠ src åé¢çš„é“¾æ¥æ¢æˆä½ è‡ªå·±çš„å›¾ç‰‡é“¾æ¥ â†“â†“â†“ -->
                <img src="assets\gaoxiaonv.png" alt="æç¬‘å¥³">
                <span>å°å­¦ç”Ÿæç¬‘å¥³</span>
            </button>
            
            <!-- å¥³ç¥æŒ‰é’® (å›¾æ–‡ç‰ˆ) -->
            <button id="btn-goddess" class="img-btn" onclick="runAway()">
                <!-- â†“â†“â†“ è¯·æŠŠ src åé¢çš„é“¾æ¥æ¢æˆä½ è‡ªå·±çš„å›¾ç‰‡é“¾æ¥ â†“â†“â†“ -->
                <img src="assets\gaoleng.png" alt="é«˜å†·å¥³ç¥">
                <span>é«˜å†·å¥³ç¥</span>
            </button>
        </div>
    </div>

    <!-- ç¬¬äºŒå…³ -->
    <div id="phase-2" class="card hidden">
        <h1>ğŸ¡ æ¥å—æ­£ä¹‰çš„æƒ©ç½š</h1>
        <div class="wheel-box">
            <div class="pointer"></div>
            <div class="wheel" id="wheel">
                <div class="wheel-bg" id="wheel-bg"></div>
                <div class="wheel-text" id="wheel-text"></div>
            </div>
        </div>
        <button id="btn-spin" onclick="startSpin()">å¼€å§‹æŠ½å–</button>
    </div>

    <!-- å¼¹çª—ç»“æœ -->
    <div id="modal-mask">
        <div class="modal-body">
            <h2 style="margin:0 0 10px 0; font-size:18px;">ğŸ‰ æŠ½å–ç»“æœ</h2>
            <div>ä½ çš„æƒ©ç½šæ˜¯ï¼š</div>
            <div class="result-big" id="result-content">...</div>
            <button class="close-btn" onclick="closeModal()">æˆ‘è®¤äº†</button>
        </div>
    </div>

    <script>
        /* ================= é…ç½®ä¸­å¿ƒ ================= */
        
        // 1. è½¬ç›˜æƒ©ç½šå†…å®¹
        const list = [
            "åˆ‡è…¹è‡ªå°½", 
            "å¤©å°å è½", 
            "å…¬å¸ƒæ‰€æœ‰ä¸‘ç…§", 
            "åš2000ä¸ªæ·±è¹²", 
            "æ–­é£Ÿä¸€å‘¨", 
            "åš2000ä¸ªä¿¯å§æ’‘", 
            "è¯­éŸ³é“æ­‰æ‰¿è®¤é”™è¯¯",  // å¿…ä¸­é¡¹ (ç´¢å¼• 6)
            "ç£•å¤´", 
            "å”±æ­Œï¼ˆå®Œæ•´ç‰ˆï¼‰", 
            "ç”¨å±è‚¡å†™åå­—" 
        ];

        // 2. ç»“å±€é”å®šç´¢å¼• (0-9)
        const targetIndex = 6; 

        // 3. å¥³ç¥æœ€å¤šç‚¹å‡ æ¬¡ (6æ¬¡)
        const maxClicks = 6; 

        /* =========================================== */

        // ç¬¬ä¸€å…³å˜é‡
        let count = 0;
        const btnG = document.getElementById('btn-goddess');
        const btnF = document.getElementById('btn-funny');
        const title = document.getElementById('title');

        // å¥³ç¥æŒ‰é’®ä¹±è·‘é€»è¾‘
        function runAway() {
            count++;

            // 1. æç¬‘å¥³æŒ‰é’®æ”¾å¤§ (ä¸Šé™ 1.5å€)
            let scale = 1 + (count * 0.1); 
            if (scale > 1.5) scale = 1.5; 
            btnF.style.transform = `scale(${scale})`;

            // 2. æ¬¡æ•°åˆ¤å®š
            if (count >= maxClicks) {
                btnG.style.display = 'none';
                title.innerHTML = "åˆ«æŒ£æ‰äº†<br>æ‰¿è®¤ä½ çš„çœŸå®é¢ç›®ğŸ‘‡";
                return;
            }

            // 3. éšæœºç§»åŠ¨ (é’ˆå¯¹å¤§æŒ‰é’®ä¼˜åŒ–èŒƒå›´)
            btnG.style.position = 'fixed'; 
            
            const w = window.innerWidth;
            const h = window.innerHeight;
            
            // æŒ‰é’®å¤§çº¦å®½120ï¼Œé«˜140ã€‚
            // ç•™å‡ºè¶³å¤Ÿè¾¹è·é˜²æ­¢å‡ºç•Œ (w - 150)
            const randomX = Math.random() * (w - 150) + 20;
            const randomY = Math.random() * (h - 180) + 20;

            btnG.style.left = randomX + 'px';
            btnG.style.top = randomY + 'px';
        }

        function passLevel() {
            document.getElementById('phase-1').classList.add('hidden');
            document.getElementById('phase-2').classList.remove('hidden');
            initWheel(); 
        }


        // ç¬¬äºŒå…³ è½¬ç›˜é€»è¾‘
        const wheel = document.getElementById('wheel');
        const wheelBg = document.getElementById('wheel-bg');
        const wheelText = document.getElementById('wheel-text');
        const spinBtn = document.getElementById('btn-spin');
        
        const colors = ['#FFCDD2', '#F8BBD0', '#E1BEE7', '#D1C4E9', '#C5CAE9', '#BBDEFB', '#B3E5FC', '#B2EBF2', '#B2DFDB', '#C8E6C9'];
        let currentDeg = 0;
        let isSpinning = false;

        function initWheel() {
            const num = list.length;
            const perDeg = 360 / num;

            let bgStr = 'conic-gradient(';
            for(let i=0; i<num; i++) {
                bgStr += `${colors[i % colors.length]} ${i*perDeg}deg ${(i+1)*perDeg}deg,`;
            }
            bgStr = bgStr.slice(0, -1) + ')';
            wheelBg.style.background = bgStr;

            wheelText.innerHTML = '';
            list.forEach((txt, i) => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerText = txt;
                div.style.transform = `rotate(${i * perDeg + perDeg/2}deg)`;
                wheelText.appendChild(div);
            });
        }

        function startSpin() {
            if (isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;

            const num = list.length;
            const perDeg = 360 / num;
            
            // è®¡ç®—ç›®æ ‡è§’åº¦
            const targetDeg = targetIndex * perDeg + (perDeg / 2);
            const visualTarget = 360 - targetDeg;

            // è½¬5åœˆ
            const loops = 360 * 5;
            const base = Math.ceil(currentDeg / 360) * 360;
            let nextDeg = base + loops + visualTarget;

            wheel.style.transform = `rotate(${nextDeg}deg)`;
            currentDeg = nextDeg;

            setTimeout(() => {
                showModal(list[targetIndex]);
                isSpinning = false;
                spinBtn.disabled = false;
                spinBtn.innerText = "å†ç©ä¸€æ¬¡";
            }, 4000);
        }

        // å¼¹çª—ç›¸å…³
        const modal = document.getElementById('modal-mask');
        const resultDiv = document.getElementById('result-content');

        function showModal(text) {
            resultDiv.innerText = text;
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }
    </script>
</body>
</html>